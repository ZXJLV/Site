<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>QQ简易聊天框</title>
    <link rel="stylesheet" href="css/chat.css">
    <script type="text/javascript" src="js/jquery-3.6.4.js"></script>
</head>
<body>
<section id="chat">
    <div class="chatBody">
    </div>
    <div><img src="images/icon.jpg"></div>
    <textarea class="chatText"></textarea>
    <div class="btn"><span>关闭(C)</span><span id="send">发送(S)</span></div>
</section>
</body>
</html>

<script type="text/javascript">

    $(document).ready(function () {

        $("#send").click(function () {
            if ($(".chatText").length>0){
                let str = $(".chatBody").html()
                let headImgs = Array("head01.jpg","head02.jpg","head03.jpg");
                let uName = Array("head01.jpg","head02.jpg","head03.jpg");

                let random = Math.floor(Math.random()*3);

                let addImg = "<div><img src='images/"+headImgs[random]+"'></div>";
                let addName = "<p>"+uName[random]+"</p>";
                let text = "<div>"+$(".chatText").val()+"</div>"
                let insertAdd = "<section>"+addImg+addName+text+"</section>";

                $(".chatBody").html(str+insertAdd)
                $(".chatBody section div:last").addClass("chatContent")
                $(".chatText").val("")
            }
        })

    })


</script>
